<%- include ('HeadandFoot/header')%>

  <section class="vh-100 bg-image"
    style="background-image: url('https://mdbcdn.b-cdn.net/img/Photos/new-templates/search-box/img4.webp');">
    <div class="mask d-flex align-items-center h-100 gradient-custom-3">
      <div class="container h-100">
        <div class="row d-flex justify-content-center align-items-center h-100">
          <div class="col-12 col-md-9 col-lg-7 col-xl-6">
            <div class="card" style="border-radius: 15px;">
              <div class="card-body p-4">
                <h2 class="text-uppercase text-center mb-4">Create an account</h2>

                <form action="/signup" onsubmit="return validate()" method="post">

                  <div class="form-outline mb-3">
                    <label class="form-label">Name</label>
                    <input type="text" id="name" name="name" class="form-control form-control-lg" />
                    <p class="text-danger" id="nameError"></p>
                  </div>

                  <div class="form-outline mb-3">
                    <label class="form-label">Email</label>
                    <input type="email" id="email" name="email" class="form-control form-control-lg" />
                    <p class="text-danger" id="emailError"></p>
                  </div>

                  <div class="form-outline mb-3">
                    <label class="form-label">Phone</label>
                    <input type="text" name="phone" id="phone" class="form-control form-control-lg" />
                    <p class="text-danger" id="phnoError"></p>
                  </div>


                  <div class="form-outline mb-3">
                    <label class="form-label" for="password-input">Password</label>
                    <input type="password" name="password" id="password" class="form-control form-control-lg" />
                    <p class="text-danger" id="psswdError"></p>
                  </div>

                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" id="show-password-checkbox" />
                    <label class="form-check-label" for="show-password-checkbox">Show Password</label>
                  </div>


                  <div class="d-flex justify-content-center">
                    <button type="submit"
                      class="btn btn-success btn-block btn-lg gradient-custom-4 text-body">Register</button>
                  </div>

                  <p class="text-center text-muted mt-4 mb-0">Have already an account? <a href="/login"
                      class="fw-bold text-body"><u>Login here</u></a></p>

                </form>

            

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <script>
    function validate() {
      let name = document.getElementById("name").value;
      let phno = document.getElementById("phone").value;
      let email = document.getElementById("email").value;
      let password = document.getElementById("password").value;
      reg = /^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/;
      email_result = reg.test(email);
      let isValid = true;

      document.getElementById("nameError").innerHTML = "";
      document.getElementById("phnoError").innerHTML = "";
      document.getElementById("emailError").innerHTML = "";
      document.getElementById("psswdError").innerHTML = "";

      if (name.trim() === "") {
        document.getElementById("nameError").innerHTML = "Name is required.";
        isValid = false;
      }
      if (name.trim().includes("  ")) {
        document.getElementById("nameError").innerHTML =
          "Invalid Naming, Unecessary spacing";
        isValid = false;
      }

      if (phno.length !== 10 || phno.length > 10 || isNaN(phno)) {
        document.getElementById("phnoError").innerHTML =
          "Invalid phone number. Phone number must be 10 digits.";
        isValid = false;
      }
      if (phno.trim().includes(" ")) {
        document.getElementById("phnoError").innerHTML =
          "No spacing in between Phone numbers.";
      }

      if (email.trim() === "") {
        document.getElementById("emailError").innerHTML = "Email is required.";
        isValid = false;
      } else if (!email_result) {
        document.getElementById("emailError").innerHTML = "Provide correct Email";
        isValid = false;
      }

      if (password.length < 8) {
        document.getElementById("psswdError").innerHTML =
          "Password must be at least 8 characters.";
        isValid = false;
      }

      if (!isValid) {
        event.preventDefault();
      }
      return isValid;
    }
    const passwordInput = document.getElementById("password");
    const showPasswordCheckbox = document.getElementById("show-password-checkbox");

    showPasswordCheckbox.addEventListener("change", function () {
      if (this.checked) {
        passwordInput.type = "text";
      } else {
        passwordInput.type = "password";
      }
    });

  </script>

  <%- include ('HeadandFoot/footer')%>